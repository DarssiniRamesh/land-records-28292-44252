{"is_source_file": true, "format": "JavaScript (Node.js/Express)", "description": "Main server source file implementing REST API endpoints for a land records management system. Includes user registration, authentication, land plot retrieval, application handling, document uploads, payments, notifications, and in-memory demo data.", "external_files": ["express", "body-parser", "jsonwebtoken", "cors", "multer", "uuid"], "external_methods": ["jwt.verify", "jwt.sign", "uuidv4"], "published": ["POST /api/register", "POST /api/login", "GET /api/me", "GET /api/plots", "GET /api/plots/:plotId", "GET /api/applications", "POST /api/applications", "POST /api/applications/:id/status", "POST /api/documents/upload", "POST /api/payments/initiate", "GET /api/notifications", "POST /api/sample/reset", "POST /api/user/language"], "classes": [{"name": "authorizeRoles", "description": "Middleware for RBAC, authorizes user based on allowed roles"}, {"name": "sendNotification", "description": "Helper to send and store notifications in-memory"}], "methods": [{"name": "app.post('/api/register')", "description": "Registers a new citizen user"}, {"name": "app.post('/api/login')", "description": "Authenticates user and issues JWT token"}, {"name": "app.get('/api/me')", "description": "Get current user's profile info"}, {"name": "app.get('/api/plots')", "description": "Retrieve list or filter land plots"}, {"name": "app.get('/api/plots/:plotId')", "description": "Retrieve details of a specific plot"}, {"name": "app.get('/api/applications')", "description": "List applications relevant to user role"}, {"name": "app.post('/api/applications')", "description": "Submit a new land application"}, {"name": "app.post('/api/applications/:id/status')", "description": "Update application status by officer/admin"}, {"name": "app.post('/api/documents/upload')", "description": "Upload a document (in-memory storage)"}, {"name": "app.post('/api/payments/initiate')", "description": "Initiate a payment for an application"}, {"name": "app.get('/api/notifications')", "description": "Retrieve notifications for current user"}, {"name": "app.post('/api/sample/reset')", "description": "Reset in-memory demo data (admin only)"}, {"name": "app.post('/api/user/language')", "description": "Change user's preferred language"}], "calls": ["jwt.verify", "jwt.sign", "uuidv4", "sendNotification"], "search-terms": ["land records API", "in-memory demo server", "applications for land", "authorization middleware", "file upload multer", "JWT authentication", "role-based access control", "sample reset API"], "state": 2, "file_id": 2, "knowledge_revision": 5, "git_revision": "208a79ff0ac58da7402d3c0895d7718a7eb04166", "ctags": [], "hash": "72ab90cfa5a1b84f4b7faeeae40b32da", "format-version": 4, "code-base-name": "BackendAPIService(Node.js/Express)", "filename": "BackendAPIService(Node.js/Express)/index.js", "revision_history": [{"5": "208a79ff0ac58da7402d3c0895d7718a7eb04166"}]}